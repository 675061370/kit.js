(function(e){var n=this;var t=document.location.host,i=Object.prototype.toString;var r=Array.prototype,o=Object.prototype,a=Function.prototype;var c=r.push,s=r.pop,f=n.location.href,u=r.slice;var l=function(e){if(e instanceof l){return e}if(!(this instanceof l)){return new l(e)}this._wrapped=e};var h=l.fn=l.prototype;if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=l}exports.kit=l}else{n.kit=l}l.isUndefined=function(e){if(typeof e==="undefined"){return true}return false};var p={isObject:"[object Object]",isArray:"[object Array]",isBoolean:"[object Boolean]",isFunction:"[object Function]",isString:"[object String]",isMath:"[object Math]",isDate:"[object Date]",isNull:"[object Null]",isRegExp:"[object RegExp]",isNumber:"[object Number]",isError:"[object Error]",isWindow:"[object Window]"};var d=function(e){for(var n in e){l[n]=function(n){return function(t){return i.call(t)===e[n]}}(n)}};d(p);l.each=l.forEach=function(e,n){var t=l.isObject(e);var i=l.isFunction(e);var r=l.isWindow(e);var o=l.isArray(e);if(t||i||r){for(var a in e){n(e[a],a,e)}}else if(o){var c=0;for(;c<e.length;c++){n(e[c],c,e)}}};l.isEmpty=function(e){var n=true;if(l.isObject(e)){l.some(e,function(){n=false;return false})}else if(l.isArray(e)){if(e.length>0){n=false}}return n};l.some=function(e,n){var t="";if(l.isObject(e)){for(var i in e){t=n(e[i],i);if(t===false){return false}}}else if(l.isArray(e)){for(var r=0;r<e.length;r++){t=n(e[r],r);if(t===false){return false}}}return true};l.splitSpace=function(e){return e.split(/\s+/g)};l.trim=function(e,n){var t="";if(n===true){t=e.replace(/\s/g,"");return t}if(l.isString(e)===true){t=e.replace(/((^\s*)|(\s*$))/g,"")}else{throw Error("需要解析的并不是字符串")}return t};var v=function(e,n,t,i){var r=n,o=[],a={},c=null,s=null,f="";if(typeof r==="string"&&r.length!==0){if(i){r=r.search(/^\?/g)!==-1?r.substring(1):r}o=r.split(t);l.forEach(o,function(e){f=e.split("=");c=l.trim(f[0]);s=l.trim(f[1]);a[c]=s})}if(!!e){a=a[e]}return a};l.locaSearch=function(e,t){t=t||n.location.search;var i=v(e,t,"&",true);return i};l.cookie=function(e,t){var i=t||n.document.cookie,r="";if(i.slice(-1)===";"){i=i.slice(0,-1)}r=v(e,i,";",false);return r};var b=function(e,n){var t=arguments.callee,i=e instanceof Array?[]:{};l.forEach(n,function(e,t){i[t]=n[t]});l.forEach(e,function(r,o){if(l.isObject(e[o])||l.isArray(e[o])){i[o]=t(e[o],n[o])}else{i[o]=e[o]}});return i};l.mixin=function(){var e,n,t,i=0,r={},o=arguments.length;if(typeof arguments[i]==="boolean"){n=arguments[i];i++}t=arguments[i];for(;i<o;i++){e=arguments[i];if(n===true){r=b(e,t);l.forEach(r,function(e,n){t[n]=e})}else{l.forEach(e,function(e,n){t[n]=e})}}return t};l.query=function(e){return document.querySelector(e)};l.querys=function(e){return document.querySelectorAll(e)};l.mobileType=function(){var e;var n=(navigator.browserLanguage||navigator.language).toLowerCase();var t=function(){var e=navigator.userAgent;return{iPhone:e.indexOf("iPhone")!=-1||e.indexOf("Mac")!=-1,iPad:e.indexOf("iPad")!=-1}};if(t().iPhone||t().iPad){e="iphone"}else{e="gphone"}return e};l.tabToggle=function(e,n,t,i){$(document).on("click",e,function(){var r=$(this);var o=$(this).index();var a=r.attr("tab-data");var c=r.hasClass(n);if(i===true&&c===true){return}$(e).removeClass(n);r.addClass(n);t(a,o)})};var m;l.CLIENT_USERID=m=l.cookie("userid");l.CLIENT_VERSION=l.cookie("version")?l.cookie("version").split(".").slice(-1)[0]:"";l.ta=function(e,n){n=n||"mousedown";function t(e){if(l.isObject(e)){if(typeof $==="function"){l.forEach(e,function(e,t){if(e!==""&&e!==[]){$(document).on(n,e,function(){TA.log({id:t,ld:"client",client_userid:m,send_time:""})})}})}}else if(l.isArray(e)){l.forEach(e,function(e){TA.log({id:e,ld:"client",client_userid:m,send_time:""})})}}if(typeof TA==="undefined"){console.warn("未引入TA.js,正在动态加载标签");l.addScript("/thsft/js/ta.min.js",function(){t(e)});return}t(e)};l.ta_m=function(e){var n=function(n){if(l.isArray(e.para)===true){l.forEach(e.para,function(e){n(e)})}else{l.forEach(e.para,function(e,t){if(t!==""&&t!==[]){$(document).on("click",t,function(){if(l.isArray(e)){n(e[0],e[1])}else{n(e)}})}})}};switch(e.type){case 1:l.forEach(e.para,function(e){hxmPageStat(e)});break;case 2:n(function(n){hxmClickStat(n,e.ext)});break;case 3:n(function(){hxmJumpPageStat(arguments[0],arguments[1],e.ext)});break;case 4:n(function(){hxmJumpPageStat(arguments[0],arguments[1],e.ext)})}};l.encryptName=function(e){var n=e.toString();var t=n.length;var i="";switch(t){case 1:i=n;break;case 2:var r=n.split("");i=r[0]+"*";break;case 3:var r=n.split("");i=r[0]+"*"+r[t-1];break;case 4:var r=n.split("");i=r[0]+"**"+r[t-1];break;case 5:var r=n.split("");i=r[0]+"***"+r[t-1];break;default:var r=n.split("");i=n.substr(0,t-4)+"***"+r[t-1];break}return i};l.addScript=function(e,n){var t=document.createElement("script");t.type="text/javascript";t.src=e;var i="onload"in t;if(i){t.onload=function(){n()}}else{t.onreadystatechange=function(){if(t.readyState==="loaded"||t.readyState==="complete"){n()}}}document.body.appendChild(t)};l.clone=function(e){var n=null;var t=function(){return typeof e!="object"||e===null};if(t(e)){return e}if(e instanceof Object){n={};for(var i in e){if(t(e[i])){return arguments.callee(e[i])}else{n[i]=e[i]}}}else if(e instanceof Array){n=[];for(var r=0;r<e.length;r++){if(t(e[r])){return arguments.callee(e[r])}else{n[r]=e[r]}}}return n};l.bind=function(e,n){var t=null;if(l.isFunction(n)){t=function(){return n.apply(e,arguments)}}else{t=n}return t};l.Model=function(e){if(this instanceof l.Model){this._options=e}else{return new l.Model(e)}};l.Model.prototype={constructor:l.Model,self:function(){return this._options},get:function(e){return this._options[e]},set:function(e){var n=this._isChanged(this._options,e),t=l.mixin(true,this._options,e);if(n===false){this.change(t)}return t},change:function(e){},_isChanged:function(e,n){return l(n).some(function(n,t){return n==e[t]})}};l.Controller=function(e){if(this instanceof l.Controller){var n=l.bind(this,function(e,n){this[n]=l.bind(this,e)});l.forEach(e,n)}else{return new l.Controller(e)}};l.Controller.prototype={constructor:l.Controller,subscribe:function(e){var n=e.callback,t=e.queue,i=[],r=l.bind(this,function(e){if(l.isFunction(this[e])){i.push(this[e])}else{this.myLog(e)}});l.forEach(n,r);this.deliver(i,t)},myLog:function(e){console.info("callback:"+e+" is not a function")},deliver:function(e,n){var t=l.bind(this,function(e,n){if(l.isFunction(this[n])){this[n].apply(null,e)}else{this.myLog(n)}});l.forEach(e,function(e){e()});l.forEach(n,t)}};l.View=function(e){if(this instanceof l.View){this._current=e.current||document;this._eventsFunction=e.eventsFunction;this.bindEvent(e.events);e.initialize()}else{return new l.View(e)}};l.View.prototype={constructor:l.View,bindEvent:function(n){var t=function(n,t){var i="",r=null,o=l.splitSpace(l.trim(n));if(o.length===1){i="click";r=o[0]}else if(o.length>=2){i=o[0];r=o[1]}if(this._eventsFunction[r]===e){throw Error(r+"函数不存在")}$(this._current).on(i,t,this._eventsFunction[r])};t=l.bind(this,t);l.each(n,t)}};var g;l.route=function(t,i){var r=l.isFunction(t);var o=l.isArray(i);if(r){n.onhashchange=function(){var r=n.location.hash.substring(1);if(i!==e&&o){if(i.indexOf(r)!==-1){g=r;if(g===r){return}t(r)}}else{t(r)}}}};l.ajaxInit=function(e){$.ajaxSetup({dataType:"json",beforeSend:function(){if(l.isFunction(e.before)){e.before()}},type:"GET",complete:function(){if(l.isFunction(e.complete)){e.complete()}},error:function(e){console.warn("请求错误：errno="+e.status+";statusText="+e.statusText)}})};l.ajaxConstant=function(e){var n={dataType:"json",type:"GET",error:function(e){console.warn("请求错误：errno="+e.status+";statusText="+e.statusText)}};if(l.isObject(e)===false){e={}}l.mixin(true,n,e);return function(e){var t=l.clone(n);l.mixin(true,t,e);$.ajax(t)}};l.error=function(e){window.onerror=function(){e()}};l.chartRender=function(e,n){var t=null;if(n instanceof jQuery||n instanceof Zepto){n=n.get(0)}t=echarts.init(n);t.setOption(e,true)};l.propertyNumber=function(e,n){var t=0;l.forEach(e,function(i,r){if(n===true){if(e.hasOwnProperty(r)===false){}else{t++}}else{t++}});return t};l.toggle=function(e){var n=e.items;var t=e.el;var i=e.fn;var r=[];var o=0;var a=e.isOwnProperty||false;var c=l.propertyNumber(n,a);var s=e.type||"click";l.forEach(n,function(e,n){r.push(n)});$(document).on(s,t,function(e){i(n[r[o++]],e);if(o===c){o=0}})};l.timeFinal=function(e,n){var t=l.bind(e,n);setTimeout(t,0)};l.triggerSuccess=function(e){var n="",t=e.response,i=e.noData,r=e.haveData;if(l.isObject(t)){n="response is object;";if(t.errno===0){n+="existence data;";console.info(n);r(t.data)}else if(t.errno&&t.errno!==0){n+="no data;";console.info(n);i()}}else{n="response is'not object;";console.warn(n)}};l.signState=function(e){var n=getAccount();if(e&&n===0){window.location.href="http://eqhexin/changeUser"}else{return n}};l.countDown=function(e,n){var t=e;setInterval(function(){e--;var t=e;n(t,e)},1e3);return function(){e=t}};l.timeHandle=function(n,t,i){var r="",o="",a="",c=null;i=i===e?"-":i;n=new Date(n);c=n.setDate(n.getDate()+t);c=new Date(c);r=c.getFullYear();o=c.getMonth()+1;a=c.getDate();if(o<10){o="0"+o}if(a<10){a="0"+a}c=r+i+o+i+a;return c};l.clientCmd=function(t){if(n.API===e){l.addScript("/thsft/js/api/api.js",function(){n.API.OnClientCmd(t)});return}else{n.API.OnClientCmd(t)}};l.Promise=function(){if(!(this instanceof l.Promise)){return new l.Promise}this.subscribeList=[]};l.Promise.prototype={constructor:l.Promise,subscribe:function(e){this.subscribeList.push(e);return this},when:function(e){l.timeFinal(this,e);return this},deliver:function(){var e=l.bind(this,function(e){e()});l.forEach(this.subscribeList,e)}};l.template=function(e,n,t){var i="";var r=function(e,n){l.forEach(e,function(e,i){var r=new RegExp("{{"+i+"}}","ig");if(!e){e=t||""}n=n.replace(r,e)});return n};if(l.isObject(n)===true){i+=r(n,e)}else if(l.isArray(n)===true){l.forEach(n,function(n){var t=e;i+=r(n,t)})}else{console.info("please input array or object")}return i};l.initFontSize=function(e){var n=getPlatform();var t=e||1;if(n=="gphone"){callNativeHandler("webViewFontController",'{"fontsize":"'+t+'", "switch":"0"}',function(e){})}};l.underToMustache=function(){_.templateSettings={interpolate:/\{\{=([\s\S]+?)\}\}/g,evaluate:/\{\{([\s\S]+?)\}\}/g,escape:/\{\{-([\s\S]+?)\}\}/g}};l.tempRender=function(e,n,t,i){e=_.template(e);var r=e(t);if(n instanceof jQuery||n instanceof Zepto){n[i||"html"](r)}else{n.innerHTML=r}};l.sort=function(){var e,n=false,t=false,i=arguments[0],r,o;if(typeof i==="string"){switch(i){case"asc":t=false;break;case"desc":t=true;break;default:throw"请传入正确的排序方式'asc'或'desc'"}r=arguments[1]}else{r=i}o=r.length-1;for(var a=0;a<o;a++){for(var c=0;c<o-a;c++){if(r[c]>r[c+1]){e=r[c+1];r[c+1]=r[c];r[c]=e;n=true}}if(n===false){break}}if(t===true){r=r.reverse()}return r};l.binarySearch=function(e,n){var t=0;function i(e,n){var i=e.length;var r=Math.floor(i/2);if(i<=1){if(e[0]==n){return{index:t,total:n}}return"no this item"}else{if(e[r]>n){return arguments.callee(e.slice(0,r),n)}else if(e[r]<n){t+=r;return arguments.callee(e.slice(r),n)}else{t+=r;return{index:t,total:n}}}}return i(e,n)};l.method=function(e){var n=[];l.forEach(e,function(e,t){if(l.isFunction(e)){n.push(t)}});return n.sort()};l.clientDown=function(e,i,r){var o=i.match(/\.(\w{2,4})?$/g);r=o?o[0]:null||r;var a="ifind://!command=down&valuectrl=1&filename="+e+r+"&url=http://"+t+i;n.location.href=a};l.once=function(e){var n=e;if(l.isFunction(n)===false){throw"请传入函数方法"}return function(){if(l.isFunction(n)){n();n=null}}};l.extend=l.fn.extend=function(){var e=arguments.length,n=1,t=arguments[0]||{},i=l.method(t);if(typeof t==="boolean"){t=arguments[1]||{};n++}if(!(l.isObject(t)===true||l.isFunction(t)===true)){t={}}if(e===1){l.forEach(i,function(e){var n=l[e]=t[e];if(l.isUndefined(h[e])===false){return}h[e]=function(){var e=[this._wrapped];c.apply(e,arguments);return n.apply(l,e)}})}else{}};l.extend(l);if(typeof define==="function"&&define.amd){define("kit",[],function(){return l})}if(typeof define==="function"&&define.cmd){define(function(){return l})}}).call(this);